<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda KuikoART - Productos Artesanales</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --color-primario: #4b2a70;
            --color-secundario: #ff5722;
            --color-fondo: #f9f5ff;
            --color-texto: #333;
            --color-blanco: #fff;
            --sombra: 0 3px 10px rgba(0,0,0,0.1);
            --transicion: all 0.3s ease;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            color: var(--color-texto);
            line-height: 1.6;
            background-color: var(--color-fondo);
        }

        /* Header con logo */
        .header-container {
            background-color: var(--color-primario);
            padding: 1rem 0;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .header-logo {
            height: 50px;
            width: auto;
        }

        /* Menú de navegación mejorado */
        nav {
            background-color: var(--color-blanco);
            box-shadow: var(--sombra);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .nav-links {
            list-style: none;
            display: flex;
            gap: 20px;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--color-primario);
            font-weight: bold;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            transition: var(--transicion);
        }

        .nav-links a:hover, .nav-links a.active {
            background-color: var(--color-primario);
            color: var(--color-blanco);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--color-primario);
            cursor: pointer;
        }

        /* Hero de la tienda */
        .shop-hero {
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('tienda-banner.jpg') center/cover;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: var(--color-blanco);
            margin-bottom: 2rem;
        }

        .shop-hero-content h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .shop-hero-content p {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Contenido principal */
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Filtros mejorados */
        .filtros {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            padding: 1rem;
            background: rgba(75, 42, 112, 0.1);
            margin-bottom: 2rem;
            border-radius: 10px;
        }

        .filtro-btn {
            padding: 0.6rem 1.2rem;
            border: 2px solid var(--color-primario);
            border-radius: 25px;
            background: var(--color-blanco);
            color: var(--color-primario);
            cursor: pointer;
            transition: var(--transicion);
            font-weight: bold;
        }

        .filtro-btn:hover, .filtro-btn.active {
            background: var(--color-primario);
            color: var(--color-blanco);
        }

        /* Grid de productos mejorado */
        .productos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .producto-card {
            background: var(--color-blanco);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--sombra);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
        }

        .producto-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }

        .producto-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: var(--color-secundario);
            color: var(--color-blanco);
            padding: 0.3rem 0.6rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .producto-img-container {
            height: 200px;
            overflow: hidden;
        }

        .producto-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .producto-card:hover .producto-img {
            transform: scale(1.05);
        }

        .producto-info {
            padding: 1.5rem;
        }

        .producto-titulo {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: var(--color-primario);
        }

        .producto-precio {
            font-weight: bold;
            font-size: 1.3rem;
            color: var(--color-primario);
            margin-bottom: 0.5rem;
        }

        .metodo-pago {
            font-size: 0.8rem;
            color: var(--color-secundario);
            font-style: italic;
            margin-bottom: 1rem;
        }

        .producto-desc {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }

        .producto-disponibilidad {
            display: flex;
            align-items: center;
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
            color: #4CAF50;
        }

        .producto-disponibilidad i {
            margin-right: 5px;
        }

        .cantidad-selector {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .cantidad-btn {
            width: 35px;
            height: 35px;
            border: 1px solid #ddd;
            background: #f5f5f5;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cantidad-input {
            width: 50px;
            height: 35px;
            text-align: center;
            border: 1px solid #ddd;
            margin: 0 5px;
            font-size: 1rem;
        }

        .add-to-cart {
            width: 100%;
            padding: 0.8rem;
            background: var(--color-primario);
            color: var(--color-blanco);
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transicion);
        }

        .add-to-cart:hover {
            background: #3a1a56;
        }

        /* Carrito flotante */
        .carrito-flotante {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--color-primario);
            color: var(--color-blanco);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            transition: var(--transicion);
        }

        .carrito-flotante:hover {
            transform: scale(1.1);
        }

        .carrito-contador {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--color-secundario);
            color: var(--color-blanco);
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* Modal del carrito mejorado */
        .carrito-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .carrito-contenido {
            background: var(--color-blanco);
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        .carrito-header {
            background: var(--color-primario);
            color: var(--color-blanco);
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .carrito-cerrar {
            background: none;
            border: none;
            color: var(--color-blanco);
            font-size: 1.5rem;
            cursor: pointer;
        }

        .carrito-body {
            padding: 1.5rem;
            overflow-y: auto;
            flex-grow: 1;
        }

        .carrito-vacio {
            text-align: center;
            padding: 2rem;
            color: #666;
        }

        .carrito-item {
            display: flex;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid #eee;
        }

        .carrito-item-img {
            width: 70px;
            height: 70px;
            object-fit: cover;
            border-radius: 5px;
            margin-right: 1rem;
        }

        .carrito-item-info {
            flex-grow: 1;
        }

        .carrito-item-titulo {
            font-weight: bold;
            margin-bottom: 0.3rem;
        }

        .carrito-item-precio {
            color: var(--color-primario);
            font-weight: bold;
        }

        .carrito-item-cantidad {
            display: flex;
            align-items: center;
            margin: 0.5rem 0;
        }

        .carrito-item-cantidad-btn {
            width: 25px;
            height: 25px;
            border: 1px solid #ddd;
            background: #f5f5f5;
            cursor: pointer;
        }

        .carrito-item-cantidad-input {
            width: 40px;
            height: 25px;
            text-align: center;
            border: 1px solid #ddd;
            margin: 0 5px;
        }

        .carrito-item-eliminar {
            background: none;
            border: none;
            color: var(--color-secundario);
            cursor: pointer;
            font-size: 1.2rem;
            margin-left: 1rem;
        }

        .carrito-total {
            padding: 1.5rem;
            background: #f9f5ff;
            text-align: right;
            font-size: 1.2rem;
            font-weight: bold;
        }

        /* Formulario de pedido */
        .formulario-pedido {
            padding: 1.5rem;
            background: #f9f5ff;
        }

        .form-group {
            margin-bottom: 1.2rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .form-group input, 
        .form-group select, 
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: inherit;
        }

        .form-group input:focus, 
        .form-group select:focus, 
        .form-group textarea:focus {
            outline: none;
            border-color: var(--color-primario);
            box-shadow: 0 0 0 2px rgba(75, 42, 112, 0.2);
        }

        .botones-pedido {
            display: flex;
            gap: 10px;
            margin-top: 1.5rem;
        }

        .btn-pedido {
            flex: 1;
            padding: 0.8rem;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transicion);
        }

        .btn-whatsapp {
            background: #25D366;
            color: var(--color-blanco);
        }

        .btn-whatsapp:hover {
            background: #1da851;
        }

        .btn-email {
            background: var(--color-primario);
            color: var(--color-blanco);
        }

        .btn-email:hover {
            background: #3a1a56;
        }

        /* Notificación */
        .notificacion {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--color-primario);
            color: var(--color-blanco);
            padding: 1rem 1.5rem;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            z-index: 3000;
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .notificacion.mostrar {
            opacity: 1;
        }

        .notificacion-id {
            background: rgba(255,255,255,0.2);
            padding: 0.2rem 0.5rem;
            border-radius: 20px;
            font-size: 0.8rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: var(--color-blanco);
                flex-direction: column;
                padding: 1rem;
                box-shadow: 0 5px 10px rgba(0,0,0,0.1);
            }

            .nav-links.mostrar {
                display: flex;
            }

            .mobile-menu-btn {
                display: block;
            }

            .productos-grid {
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
                gap: 1.5rem;
            }

            .carrito-contenido {
                width: 95%;
            }
        }

        @media (max-width: 480px) {
            .productos-grid {
                grid-template-columns: 1fr;
            }

            .botones-pedido {
                flex-direction: column;
            }

            .shop-hero-content h1 {
                font-size: 2rem;
            }

            .shop-hero-content p {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header con logo -->
    <div class="header-container">
        <img src="kuikoart.jpg" alt="KuikoART" class="header-logo">
    </div>
    
    <!-- Navegación -->
    <nav>
        <div class="nav-container">
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-links" id="navLinks">
                <li><a href="index.html">Inicio</a></li>
                <li><a href="tienda.html" class="active">Tienda</a></li>
                <li><a href="talleres.html">Talleres</a></li>
                <li><a href="historias.html">Historias</a></li>
                <li><a href="catalogo.html">Catálogo</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero de la tienda -->
    <section class="shop-hero">
        <div class="shop-hero-content">
            <h1>Descubre Nuestros Productos</h1>
            <p>Encuentra lo mejor en arte, manualidades, electrodomésticos, ropa y más para tu hogar</p>
        </div>
    </section>

    <!-- Contenido principal -->
    <main class="main-container">
        <!-- Filtros de categoría -->
        <div class="filtros">
            <button class="filtro-btn active" data-categoria="todos">Todos</button>
            <button class="filtro-btn" data-categoria="tecnologia">Tecnología</button>
            <button class="filtro-btn" data-categoria="hogar">Hogar</button>
            <button class="filtro-btn" data-categoria="motores">Motores</button>
            <button class="filtro-btn" data-categoria="arte">Arte y Manualidades</button>
            <button class="filtro-btn" data-categoria="electrodomesticos">Electrodomésticos</button>
            <button class="filtro-btn" data-categoria="ropa">Ropa y Accesorios</button>
        </div>

        <!-- Grid de productos -->
        <div class="productos-grid">
            <!-- Producto 1 - Tecnología -->
            <div class="producto-card" data-categoria="tecnologia">
                <div class="producto-img-container">
                    <img src="tecnologia1.jpg" alt="ECO FLOW DELTA 2" class="producto-img">
                </div>
                <div class="producto-info">
                    <h3 class="producto-titulo">ECO FLOW DELTA 2</h3>
                    <p class="producto-precio">$1100 USD</p>
                    <p class="metodo-pago">Transferencia disponible / Efectivo</p>
                    <p class="producto-desc">Generador portátil de energía con alta capacidad y múltiples puertos de carga.</p>
                    <p class="producto-disponibilidad"><i class="fas fa-check-circle"></i> Disponible: 3 unidades</p>
                    <div class="cantidad-selector">
                        <button class="cantidad-btn minus">-</button>
                        <input type="number" value="1" min="1" class="cantidad-input">
                        <button class="cantidad-btn plus">+</button>
                    </div>
                    <button class="add-to-cart">Añadir al carrito</button>
                </div>
            </div>

            <!-- Producto 2 - Hogar -->
            <div class="producto-card" data-categoria="hogar">
                <div class="producto-img-container">
                    <img src="hogar1.jpg" alt="GRIFO GIRATORIO" class="producto-img">
                </div>
                <div class="producto-info">
                    <h3 class="producto-titulo">GRIFO GIRATORIO</h3>
                    <p class="producto-precio">$1500 CUP</p>
                    <p class="producto-desc">Grifo de cocina con sistema giratorio 360° y acabado resistente.</p>
                    <p class="producto-disponibilidad"><i class="fas fa-check-circle"></i> Disponible: 5 unidades</p>
                    <div class="cantidad-selector">
                        <button class="cantidad-btn minus">-</button>
                        <input type="number" value="1" min="1" class="cantidad-input">
                        <button class="cantidad-btn plus">+</button>
                    </div>
                    <button class="add-to-cart">Añadir al carrito</button>
                </div>
            </div>

            <!-- Producto 3 - Hogar -->
            <div class="producto-card" data-categoria="hogar">
                <div class="producto-badge">Nuevo</div>
                <div class="producto-img-container">
                    <img src="hogar2.jpg" alt="COCINA INFRAROJA UNZUKI" class="producto-img">
                </div>
                <div class="producto-info">
                    <h3 class="producto-titulo">COCINA INFRAROJA UNZUKI</h3>
                    <p class="producto-precio">$22000 CUP</p>
                    <p class="producto-desc">Cocina infrarroja de alta eficiencia energética con 3 quemadores.</p>
                    <p class="producto-disponibilidad"><i class="fas fa-check-circle"></i> Disponible: 2 unidades</p>
                    <div class="cantidad-selector">
                        <button class="cantidad-btn minus">-</button>
                        <input type="number" value="1" min="1" class="cantidad-input">
                        <button class="cantidad-btn plus">+</button>
                    </div>
                    <button class="add-to-cart">Añadir al carrito</button>
                </div>
            </div>

            <!-- Producto 4 - Motores -->
            <div class="producto-card" data-categoria="motores">
                <div class="producto-img-container">
                    <img src="motores1.jpg" alt="MOTOR SÚPER TUCAN CG 250cc" class="producto-img">
                </div>
                <div class="producto-info">
                    <h3 class="producto-titulo">MOTOR SÚPER TUCAN CG 250cc</h3>
                    <p class="producto-precio">$3500 USD</p>
                    <p class="metodo-pago">Transferencia disponible / Efectivo</p>
                    <p class="producto-desc">Motor de alta potencia para motocicletas, bajo consumo de combustible.</p>
                    <p class="producto-disponibilidad"><i class="fas fa-check-circle"></i> Disponible: 1 unidad</p>
                    <div class="cantidad-selector">
                        <button class="cantidad-btn minus">-</button>
                        <input type="number" value="1" min="1" class="cantidad-input">
                        <button class="cantidad-btn plus">+</button>
                    </div>
                    <button class="add-to-cart">Añadir al carrito</button>
                </div>
            </div>

            <!-- Producto 5 - Hogar -->
            <div class="producto-card" data-categoria="hogar">
                <div class="producto-img-container">
                    <img src="hogar3.jpg" alt="PLATEROS DE 12 DIVISIONES" class="producto-img">
                </div>
                <div class="producto-info">
                    <h3 class="producto-titulo">PLATEROS DE 12 DIVISIONES</h3>
                    <p class="producto-precio">$1800 CUP</p>
                    <p class="producto-desc">Plateros organizadores con 12 divisiones, ideal para cubiertos.</p>
                    <p class="producto-disponibilidad"><i class="fas fa-check-circle"></i> Disponible: 8 unidades</p>
                    <div class="cantidad-selector">
                        <button class="cantidad-btn minus">-</button>
                        <input type="number" value="1" min="1" class="cantidad-input">
                        <button class="cantidad-btn plus">+</button>
                    </div>
                    <button class="add-to-cart">Añadir al carrito</button>
                </div>
            </div>

            <!-- Producto 6 - Hogar -->
            <div class="producto-card" data-categoria="hogar">
                <div class="producto-img-container">
                    <img src="hogar4.jpg" alt="CORTINA PARA BAÑO" class="producto-img">
                </div>
                <div class="producto-info">
                    <h3 class="producto-titulo">CORTINA PARA BAÑO</h3>
                    <p class="producto-precio">$2800 CUP</p>
                    <p class="producto-desc">Cortina resistente al agua para baño, diseño moderno y duradero.</p>
                    <p class="producto-disponibilidad"><i class="fas fa-check-circle"></i> Disponible: 4 unidades</p>
                    <div class="cantidad-selector">
                        <button class="cantidad-btn minus">-</button>
                        <input type="number" value="1" min="1" class="cantidad-input">
                        <button class="cantidad-btn plus">+</button>
                    </div>
                    <button class="add-to-cart">Añadir al carrito</button>
                </div>
            </div>

            <!-- Producto 7 - Arte y Manualidades -->
            <div class="producto-card" data-categoria="arte">
                <div class="producto-badge">Popular</div>
                <div class="producto-img-container">
                    <img src="arte1.jpg" alt="KIT DE PINTURA AL ÓLEO" class="producto-img">
                </div>
                <div class="producto-info">
                    <h3 class="producto-titulo">KIT DE PINTURA AL ÓLEO</h3>
                    <p class="producto-precio">$4500 CUP</p>
                    <p class="producto-desc">Kit completo con 24 colores, pinceles y paleta para artistas.</p>
                    <p class="producto-disponibilidad"><i class="fas fa-check-circle"></i> Disponible: 6 unidades</p>
                    <div class="cantidad-selector">
                        <button class="cantidad-btn minus">-</button>
                        <input type="number" value="1" min="1" class="cantidad-input">
                        <button class="cantidad-btn plus">+</button>
                    </div>
                    <button class="add-to-cart">Añadir al carrito</button>
                </div>
            </div>

            <!-- Producto 8 - Electrodomésticos -->
            <div class="producto-card" data-categoria="electrodomesticos">
                <div class="producto-img-container">
                    <img src="electrodomesticos1.jpg" alt="REFRIGERADOR SAMSUNG" class="producto-img">
                </div>
                <div class="producto-info">
                    <h3 class="producto-titulo">REFRIGERADOR SAMSUNG</h3>
                    <p class="producto-precio">$1200 USD</p>
                    <p class="metodo-pago">Transferencia disponible</p>
                    <p class="producto-desc">Refrigerador de dos puertas con tecnología inverter y dispensador de agua.</p>
                    <p class="producto-disponibilidad"><i class="fas fa-check-circle"></i> Disponible: 2 unidades</p>
                    <div class="cantidad-selector">
                        <button class="cantidad-btn minus">-</button>
                        <input type="number" value="1" min="1" class="cantidad-input">
                        <button class="cantidad-btn plus">+</button>
                    </div>
                    <button class="add-to-cart">Añadir al carrito</button>
                </div>
            </div>

            <!-- Producto 9 - Ropa y Accesorios -->
            <div class="producto-card" data-categoria="ropa">
                <div class="producto-badge">Oferta</div>
                <div class="producto-img-container">
                    <img src="ropa1.jpg" alt="VESTIDO FLORAL VERANO" class="producto-img">
                </div>
                <div class="producto-info">
                    <h3 class="producto-titulo">VESTIDO FLORAL VERANO</h3>
                    <p class="producto-precio">$3200 CUP</p>
                    <p class="producto-desc">Vestido ligero con diseño floral, perfecto para el verano.</p>
                    <p class="producto-disponibilidad"><i class="fas fa-check-circle"></i> Disponible: 7 unidades</p>
                    <div class="cantidad-selector">
                        <button class="cantidad-btn minus">-</button>
                        <input type="number" value="1" min="1" class="cantidad-input">
                        <button class="cantidad-btn plus">+</button>
                    </div>
                    <button class="add-to-cart">Añadir al carrito</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Carrito flotante -->
    <div class="carrito-flotante" id="carritoBtn">
        <i class="fas fa-shopping-cart"></i>
        <span class="carrito-contador">0</span>
    </div>

    <!-- Modal del carrito -->
    <div class="carrito-modal" id="carritoModal">
        <div class="carrito-contenido">
            <div class="carrito-header">
                <h2>Tu Carrito de Compras</h2>
                <button class="carrito-cerrar" id="cerrarCarrito">&times;</button>
            </div>
            <div class="carrito-body" id="carritoItems">
                <!-- Los items del carrito se agregarán aquí dinámicamente -->
            </div>
            <div class="carrito-total">
                Total: <span id="carritoTotal">$0.00</span>
            </div>
            <div class="formulario-pedido">
                <h3>Información del Cliente</h3>
                <div class="form-group">
                    <label for="nombre">Nombre completo</label>
                    <input type="text" id="nombre" placeholder="Ej: Ana Pérez García" required>
                </div>
                <div class="form-group">
                    <label for="telefono">Teléfono</label>
                    <input type="tel" id="telefono" placeholder="Ej: 5551234567" required>
                </div>
                <div class="form-group">
                    <label for="direccion">Dirección</label>
                    <input type="text" id="direccion" placeholder="Ej: Calle 123, entre A y B">
                </div>
                <div class="form-group">
                    <label for="metodo-pago">Método de Pago</label>
                    <select id="metodo-pago" required>
                        <option value="">Seleccione...</option>
                        <option value="efectivo">Efectivo</option>
                        <option value="transferencia">Transferencia</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="notas">Notas adicionales</label>
                    <textarea id="notas" rows="3" placeholder="Ej: Horario preferido para entrega..."></textarea>
                </div>
                <div class="botones-pedido">
                    <button class="btn-pedido btn-whatsapp" id="enviarWhatsapp">
                        <i class="fab fa-whatsapp"></i> Enviar por WhatsApp
                    </button>
                    <button class="btn-pedido btn-email" id="enviarEmail">
                        <i class="fas fa-envelope"></i> Enviar por Email
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notificación -->
    <div class="notificacion" id="notificacion">
        <span id="notificacionMensaje"></span>
        <span class="notificacion-id" id="notificacionId"></span>
    </div>

    <script>
        // Variables globales
        let carrito = [];
        let pedidoID = generarIDPedido();
        
        // Elementos del DOM
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navLinks = document.getElementById('navLinks');
        const carritoBtn = document.getElementById('carritoBtn');
        const carritoModal = document.getElementById('carritoModal');
        const cerrarCarrito = document.getElementById('cerrarCarrito');
        const carritoItems = document.getElementById('carritoItems');
        const carritoTotal = document.getElementById('carritoTotal');
        const contadorCarrito = document.querySelector('.carrito-contador');
        const filtroBtns = document.querySelectorAll('.filtro-btn');
        const productos = document.querySelectorAll('.producto-card');
        const addToCartBtns = document.querySelectorAll('.add-to-cart');
        const enviarWhatsapp = document.getElementById('enviarWhatsapp');
        const enviarEmail = document.getElementById('enviarEmail');
        const notificacion = document.getElementById('notificacion');
        const notificacionMensaje = document.getElementById('notificacionMensaje');
        const notificacionId = document.getElementById('notificacionId');
        
        // Generar ID único para el pedido
        function generarIDPedido() {
            const fecha = new Date();
            const dia = String(fecha.getDate()).padStart(2, '0');
            const mes = String(fecha.getMonth() + 1).padStart(2, '0');
            const año = fecha.getFullYear().toString().slice(-2);
            const random = Math.floor(100 + Math.random() * 900);
            return `KUIKO-${dia}${mes}${año}-${random}`;
        }
        
        // Mostrar/ocultar menú móvil
        mobileMenuBtn.addEventListener('click', () => {
            navLinks.classList.toggle('mostrar');
        });
        
        // Filtrar productos
        filtroBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                filtroBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const categoria = btn.dataset.categoria;
                
                productos.forEach(producto => {
                    if (categoria === 'todos' || producto.dataset.categoria === categoria) {
                        producto.style.display = 'block';
                    } else {
                        producto.style.display = 'none';
                    }
                });
            });
        });
        
        // Selector de cantidad
        productos.forEach(producto => {
            const minusBtn = producto.querySelector('.minus');
            const plusBtn = producto.querySelector('.plus');
            const cantidadInput = producto.querySelector('.cantidad-input');
            
            minusBtn.addEventListener('click', () => {
                let value = parseInt(cantidadInput.value);
                if (value > 1) {
                    cantidadInput.value = value - 1;
                }
            });
            
            plusBtn.addEventListener('click', () => {
                let value = parseInt(cantidadInput.value);
                cantidadInput.value = value + 1;
            });
        });
        
        // Añadir al carrito
        addToCartBtns.forEach((btn, index) => {
            btn.addEventListener('click', () => {
                const producto = btn.closest('.producto-card');
                const titulo = producto.querySelector('.producto-titulo').textContent;
                const precioTexto = producto.querySelector('.producto-precio').textContent;
                const precio = parseFloat(precioTexto.replace(/[^0-9.-]+/g,""));
                const cantidad = parseInt(producto.querySelector('.cantidad-input').value);
                const imagen = producto.querySelector('.producto-img').src;
                const metodoPago = producto.querySelector('.metodo-pago') ? producto.querySelector('.metodo-pago').textContent : '';
                
                // Verificar si el producto ya está en el carrito
                const productoExistente = carrito.find(item => item.titulo === titulo);
                
                if (productoExistente) {
                    productoExistente.cantidad += cantidad;
                } else {
                    carrito.push({
                        titulo,
                        precio,
                        cantidad,
                        imagen,
                        metodoPago
                    });
                }
                
                actualizarCarrito();
                mostrarNotificacion(`${titulo} añadido al carrito`, pedidoID);
            });
        });
        
        // Abrir/cerrar carrito
        carritoBtn.addEventListener('click', abrirCarrito);
        cerrarCarrito.addEventListener('click', cerrarModal);
        
        // Actualizar carrito
        function actualizarCarrito() {
            carritoItems.innerHTML = '';
            let total = 0;
            
            if (carrito.length === 0) {
                carritoItems.innerHTML = '<div class="carrito-vacio"><p>Tu carrito está vacío</p></div>';
                carritoTotal.textContent = '$0.00';
                contadorCarrito.textContent = '0';
                return;
            }
            
            carrito.forEach((item, index) => {
                const subtotal = item.precio * item.cantidad;
                total += subtotal;
                
                const itemHTML = `
                    <div class="carrito-item">
                        <img src="${item.imagen}" alt="${item.titulo}" class="carrito-item-img">
                        <div class="carrito-item-info">
                            <div class="carrito-item-titulo">${item.titulo}</div>
                            ${item.metodoPago ? `<div class="carrito-item-precio" style="color: var(--color-secundario); font-size: 0.8rem;">${item.metodoPago}</div>` : ''}
                            <div class="carrito-item-precio">$${item.precio.toFixed(2)} x ${item.cantidad}</div>
                            <div class="carrito-item-cantidad">
                                <button class="carrito-item-cantidad-btn minus" data-index="${index}">-</button>
                                <input type="number" value="${item.cantidad}" min="1" class="carrito-item-cantidad-input" data-index="${index}">
                                <button class="carrito-item-cantidad-btn plus" data-index="${index}">+</button>
                            </div>
                        </div>
                        <button class="carrito-item-eliminar" data-index="${index}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                
                carritoItems.innerHTML += itemHTML;
            });
            
            // Event listeners para los controles de cantidad en el carrito
            document.querySelectorAll('.carrito-item-cantidad-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = parseInt(btn.dataset.index);
                    if (btn.classList.contains('minus')) {
                        if (carrito[index].cantidad > 1) {
                            carrito[index].cantidad--;
                        }
                    } else {
                        carrito[index].cantidad++;
                    }
                    actualizarCarrito();
                });
            });
            
            // Event listeners para los inputs de cantidad en el carrito
            document.querySelectorAll('.carrito-item-cantidad-input').forEach(input => {
                input.addEventListener('change', (e) => {
                    const index = parseInt(input.dataset.index);
                    const newValue = parseInt(input.value);
                    if (!isNaN(newValue) && newValue >= 1) {
                        carrito[index].cantidad = newValue;
                        actualizarCarrito();
                    }
                });
            });
            
            // Event listeners para eliminar productos
            document.querySelectorAll('.carrito-item-eliminar').forEach(btn => {
                btn.addEventListener('click', () => {
                    const index = parseInt(btn.dataset.index);
                    const productoEliminado = carrito[index].titulo;
                    carrito.splice(index, 1);
                    actualizarCarrito();
                    mostrarNotificacion(`${productoEliminado} eliminado`, pedidoID);
                });
            });
            
            carritoTotal.textContent = `$${total.toFixed(2)}`;
            contadorCarrito.textContent = carrito.reduce((sum, item) => sum + item.cantidad, 0);
        }
        
        // Mostrar notificación
        function mostrarNotificacion(mensaje, id) {
            notificacionMensaje.textContent = mensaje;
            notificacionId.textContent = id;
            notificacion.classList.add('mostrar');
            
            setTimeout(() => {
                notificacion.classList.remove('mostrar');
            }, 3000);
        }
        
        // Abrir carrito
        function abrirCarrito() {
            carritoModal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
            pedidoID = generarIDPedido();
        }
        
        // Cerrar carrito
        function cerrarModal() {
            carritoModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        // Enviar por WhatsApp
        enviarWhatsapp.addEventListener('click', () => {
            if (carrito.length === 0) {
                mostrarNotificacion('El carrito está vacío', pedidoID);
                return;
            }
            
            const nombre = document.getElementById('nombre').value || 'No especificado';
            const telefono = document.getElementById('telefono').value || 'No especificado';
            const direccion = document.getElementById('direccion').value || 'No especificado';
            const metodoPago = document.getElementById('metodo-pago').value || 'No especificado';
            const notas = document.getElementById('notas').value || 'No hay notas adicionales';
            
            let mensaje = `*Nuevo Pedido KuikoART*%0A%0A`;
            mensaje += `*ID del Pedido:* ${pedidoID}%0A%0A`;
            mensaje += `*📌 Información del Cliente*%0A`;
            mensaje += `• *Nombre:* ${nombre}%0A`;
            mensaje += `• *Teléfono:* ${telefono}%0A`;
            mensaje += `• *Dirección:* ${direccion}%0A%0A`;
            
            mensaje += `*💳 Método de Pago:*%0A`;
            mensaje += `• ${metodoPago === 'efectivo' ? 'Efectivo' : (metodoPago === 'transferencia' ? 'Transferencia' : 'No especificado')}%0A%0A`;
            
            mensaje += `*📝 Notas:*%0A`;
            mensaje += `• ${notas}%0A%0A`;
            
            mensaje += `*🛒 Detalles del Pedido*%0A`;
            carrito.forEach(item => {
                mensaje += `➤ *${item.titulo}*%0A`;
                mensaje += `   - Cantidad: ${item.cantidad}%0A`;
                mensaje += `   - Precio unitario: $${item.precio.toFixed(2)}%0A`;
                if (item.metodoPago) {
                    mensaje += `   - ${item.metodoPago}%0A`;
                }
                mensaje += `   - Subtotal: $${(item.cantidad * item.precio).toFixed(2)}%0A%0A`;
            });
            
            mensaje += `*💰 Total a Pagar:* $${carrito.reduce((sum, item) => sum + (item.precio * item.cantidad), 0).toFixed(2)}%0A%0A`;
            mensaje += `_Fecha: ${new Date().toLocaleDateString('es-ES', { day: '2-digit', month: '2-digit', year: 'numeric' })}_`;
            
            window.open(`https://wa.me/5353086152?text=${mensaje}`, '_blank');
        });
        
        // Enviar por Email
        enviarEmail.addEventListener('click', () => {
            if (carrito.length === 0) {
                mostrarNotificacion('El carrito está vacío', pedidoID);
                return;
            }
            
            const nombre = document.getElementById('nombre').value || 'No especificado';
            const telefono = document.getElementById('telefono').value || 'No especificado';
            const direccion = document.getElementById('direccion').value || 'No especificado';
            const metodoPago = document.getElementById('metodo-pago').value || 'No especificado';
            const notas = document.getElementById('notas').value || 'No hay notas adicionales';
            
            let asunto = `Nuevo Pedido KuikoART - ${pedidoID}`;
            
            let cuerpo = `Nuevo Pedido KuikoART\n\n`;
            cuerpo += `ID del Pedido: ${pedidoID}\n\n`;
            cuerpo += `📌 Información del Cliente\n`;
            cuerpo += `• Nombre: ${nombre}\n`;
            cuerpo += `• Teléfono: ${telefono}\n`;
            cuerpo += `• Dirección: ${direccion}\n\n`;
            
            cuerpo += `💳 Método de Pago:\n`;
            cuerpo += `• ${metodoPago === 'efectivo' ? 'Efectivo' : (metodoPago === 'transferencia' ? 'Transferencia' : 'No especificado')}\n\n`;
            
            cuerpo += `📝 Notas:\n`;
            cuerpo += `• ${notas}\n\n`;
            
            cuerpo += `🛒 Detalles del Pedido\n`;
            carrito.forEach(item => {
                cuerpo += `➤ ${item.titulo}\n`;
                cuerpo += `   - Cantidad: ${item.cantidad}\n`;
                cuerpo += `   - Precio unitario: $${item.precio.toFixed(2)}\n`;
                if (item.metodoPago) {
                    cuerpo += `   - ${item.metodoPago}\n`;
                }
                cuerpo += `   - Subtotal: $${(item.cantidad * item.precio).toFixed(2)}\n\n`;
            });
            
            cuerpo += `💰 Total a Pagar: $${carrito.reduce((sum, item) => sum + (item.precio * item.cantidad), 0).toFixed(2)}\n\n`;
            cuerpo += `Fecha: ${new Date().toLocaleDateString('es-ES', { day: '2-digit', month: '2-digit', year: 'numeric' })}`;
            
            const asuntoCodificado = encodeURIComponent(asunto);
            const cuerpoCodificado = encodeURIComponent(cuerpo);
            
            window.location.href = `mailto:cmfaponte@gmail.com?subject=${asuntoCodificado}&body=${cuerpoCodificado}`;
        });
        
        // Cerrar modal al hacer clic fuera
        window.addEventListener('click', (e) => {
            if (e.target === carritoModal) {
                cerrarModal();
            }
        });
    </script>
</body>
</html>
